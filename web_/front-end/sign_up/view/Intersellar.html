<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <title>Interstellar</title>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <link rel='stylesheet' type='text/css' media='screen' href='./Movies.css'>
    <link rel="icon" type="image/x-icon" href="..\User_Ticket_Page\Favicon.png">
</head>
<body style="background-image: url(Interstellar_dark.png); background-size: cover;">

        <div class="mytickets">
            <button class="button"><a style="text-decoration: none; color: #00ffd0; font-size: 30px;"  href="./ticket.html">Back</a></button>
        </div>
        <div style=" display: grid; justify-content: center;">
    <div class="div">
         <p style="font-size: 30px;">Interstellar</p>
            <img src="installer.jpg" alt="" width="250px" height="250px" style="margin-left: 27%;">
            <p>Price: 350/-</p>
            <button id="plus" >BUY NOW</button>
    </div>
        </div>
    <script> function bookTicket(movieId) {
        fetch(`http://localhost:5500/updateTicketAndUser?movieId=${movieId}`)
            .then(response => response.json())
            .then(data => {
                if (data.success) {
                    alert("Ticket booked successfully!");
                } else {
                    alert('Error: ${data.message}');
                }
            })
            .catch(error => {
                console.error("Error:", error);
                alert("An error occurred while booking the ticket.");
            });
    }

    
    document.getElementById("plus").addEventListener("click", function() {
        bookTicket(1);
    });
    </script>
</body>
</html>